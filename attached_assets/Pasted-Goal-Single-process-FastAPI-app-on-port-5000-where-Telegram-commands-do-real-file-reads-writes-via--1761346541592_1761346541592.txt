Goal: Single-process FastAPI app on port 5000 where Telegram commands do real file reads/writes via a small SDK that calls Claude. Keep it minimal and deterministic.

Do exactly:
	1.	Deps: add fastapi, uvicorn, httpx, anthropic (no python-telegram-bot).
	2.	Files:
	â€¢	app/server.py â€“ FastAPI, in-memory queue.Queue(), background worker thread, Telegram webhook.
	â€¢	sdk/runner.py â€“ patch_file(path, goal) using Anthropic; return {ok, lines_changed}.
	â€¢	utils/files.py â€“ read_text(path), write_text(path,text), sha1(path), git_diff(path,max_lines=120).
	â€¢	tools/reset_webhook.py â€“ (re)set Telegram webhook to https://<PUBLIC>/api/v1/telegram/{token}.
	3.	Env: read TELEGRAM_BOT_TOKEN, CHAT_ID_DEFAULT, ANTHROPIC_API_KEY.
	4.	Telegram send: simple HTTP POST to
https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage with chat_id + text.
	5.	Routes & commands (only these):
	â€¢	GET /api/v1/health â‡’ {ok:true,queue_depth:int}
	â€¢	POST /api/v1/telegram/{token} (token must match env)
Commands parsed from message text:
	â€¢	/ping â‡’ reply âœ… Direct test pong
	â€¢	/status â‡’ reply ğŸ“Š System OK | Queue: {n}
	â€¢	/build read <path> â‡’ reply first 1200 chars + SHA1: <hash>
	â€¢	/build patch <path> â‡’ take next message as the goal text; enqueue {type:"patch", path, goal}; reply ğŸ›  Queued build: <path>
Worker: on {type:"patch"} call sdk.runner.patch_file(), then reply with:

âœ… Patch Applied
File: <path>
Lines changed: <n>
SHA1: <hash_after>

	6.	Claude call (sdk/runner.py): model claude-3-5-sonnet-20241022. Prompt:
â€œReturn ONLY the full new file content. File:{path}. Goal:{goal}. Original:\nâ€™â€™â€™{original}â€™â€™â€™â€
Write the result verbatim; compute lines changed (simple diff).
	7.	Startup: start worker thread on app startup; run uvicorn 0.0.0.0:5000.
	8.	Deliverables: commit files and print to console:
	â€¢	routes list
	â€¢	â€œWorker runningâ€
	â€¢	webhook URL in use

After build: run python tools/reset_webhook.py, restart. I will test:

/ping
/build read test_sample.py
/build patch test_canary.txt
(next message)
CANARY: prove write works
/build read test_canary.txt
All replies must come from the server and real file edits must be visible via SHA1 change.
