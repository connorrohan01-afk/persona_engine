Extend PersonaEngine with Telegram Persona Deployer. Keep FastAPI + SQLModel. Reuse Authorization: Bearer <AUTH_BEARER_TOKEN>. Endpoints always return JSON { ok, mode(â€œliveâ€|â€œdryâ€), â€¦ }. This branch auto-creates Telegram persona bots, links them to existing personas, deploys upsell flows, and manages message routing.

Add/Modify files:
	â€¢	app/routes/telegram_persona.py â€” endpoints for deploy, link, toggle, send test, get status.
	â€¢	app/models_telegram_persona.py â€” SQLModel: TelegramPersona(id, tenant_id, persona_id, bot_token, username, linked, enabled, created_at, updated_at).
	â€¢	app/telegram_engine.py â€” wrapper for sending messages, handling updates, plugging into upsell flows.
	â€¢	app/config.py â€” add TELEGRAM_DEFAULT_UPSELL env.

Environment variables:
TELEGRAM_DEFAULT_UPSELL=â€œCheck out my vault ğŸ”—â€
TELEGRAM_WEBHOOK_BASE=â€œhttps://YOUR_APP/api/v1/telegram/webhookâ€
DRY_DEFAULT=1

Data models (SQLModel):
TelegramPersona(id, tenant_id, persona_id, bot_token, username, linked, enabled, created_at, updated_at)

API endpoints:
	1.	POST /api/v1/telegram/persona/deploy
Request: { â€œtenant_idâ€:â€œownerâ€, â€œpersona_idâ€:â€œp001â€, â€œbot_tokenâ€:â€œ123:ABCâ€, â€œusernameâ€:â€œmybotâ€, â€œenabledâ€:true, â€œdryâ€:false }
Response: { â€œokâ€:true, â€œmodeâ€:â€œliveâ€, â€œtelegram_persona_idâ€:â€œtp_001â€, â€œwebhook_urlâ€:â€œhttps://YOUR_APP/api/v1/telegram/webhook/tp_001â€ }
	2.	POST /api/v1/telegram/persona/link
Request: { â€œtelegram_persona_idâ€:â€œtp_001â€, â€œpersona_idâ€:â€œp001â€ }
Response: { â€œokâ€:true, â€œlinkedâ€:true }
	3.	POST /api/v1/telegram/persona/send-test
Request: { â€œtelegram_persona_idâ€:â€œtp_001â€, â€œchat_idâ€:â€œ7484907544â€, â€œtextâ€:â€œHello from personaâ€ }
Response: { â€œokâ€:true, â€œmodeâ€:â€œliveâ€, â€œsentâ€:true }
	4.	POST /api/v1/telegram/persona/toggle
Request: { â€œtelegram_persona_idâ€:â€œtp_001â€, â€œenabledâ€:false }
Response: { â€œokâ€:true, â€œmodeâ€:â€œliveâ€, â€œenabledâ€:false }
	5.	GET /api/v1/telegram/persona/status?id=tp_001
Response: { â€œokâ€:true, â€œpersonaâ€:{â€œidâ€:â€œtp_001â€,â€œusernameâ€:â€œmybotâ€,â€œlinkedâ€:true,â€œenabledâ€:true} }

Webhook:
POST /api/v1/telegram/webhook/{telegram_persona_id}
	â€¢	Accepts Telegram update JSON.
	â€¢	Extract chat_id, message.text.
	â€¢	If text contains upsell trigger (configurable or default TELEGRAM_DEFAULT_UPSELL), auto-reply with upsell link.
	â€¢	Always log message + response.

Telegram engine (app/telegram_engine.py):
	â€¢	send_message(bot_token, chat_id, text).
	â€¢	parse_update(update_json) â†’ returns { chat_id, text }.
	â€¢	route_message(update_json, persona_config). If upsell trigger â†’ send upsell text.

Integration:
	â€¢	Links to Persona Registry so each persona has a Telegram bot face.
	â€¢	Vault delivery endpoint (existing branch) can be triggered as upsell.
	â€¢	n8n can call /deploy and /link automatically after persona creation.

Example test calls:

deploy persona bot:
{ â€œmethodâ€:â€œPOSTâ€, â€œurlâ€:â€œhttps://YOUR_APP/api/v1/telegram/persona/deployâ€, â€œheadersâ€:{â€œAuthorizationâ€:â€œBearer YOUR_TOKENâ€,â€œContent-Typeâ€:â€œapplication/jsonâ€}, â€œbodyâ€:{â€œtenant_idâ€:â€œownerâ€,â€œpersona_idâ€:â€œp001â€,â€œbot_tokenâ€:â€œ123:ABCâ€,â€œusernameâ€:â€œmybotâ€,â€œenabledâ€:true,â€œdryâ€:true} }

send test message:
{ â€œmethodâ€:â€œPOSTâ€, â€œurlâ€:â€œhttps://YOUR_APP/api/v1/telegram/persona/send-testâ€, â€œheadersâ€:{â€œAuthorizationâ€:â€œBearer YOUR_TOKENâ€,â€œContent-Typeâ€:â€œapplication/jsonâ€}, â€œbodyâ€:{â€œtelegram_persona_idâ€:â€œtp_001â€,â€œchat_idâ€:â€œ7484907544â€,â€œtextâ€:â€œhello testâ€} }

Deliverable: production-ready Telegram deployer for personas, linked to registry, with upsell flows and webhook support. It should let you spawn persona bots, link them to Reddit personas, and route conversations into upsells or vaults.